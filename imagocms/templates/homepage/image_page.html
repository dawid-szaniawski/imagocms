{% extends 'base.html' %}
{% block title %}{{ meme['title'] }}{% endblock %}

{% block content %}
<article>
    <div class="meme">
        <h2 class="meme-title">{{ meme['title'] }}</h2>
        <div class="meme-details">
        <p>
            <a href="{{ url_for('homepage.index', page=1, author_name=meme['username']) }}" class="username">
                {{ meme['username'] }}</a>
            {{ meme['created'].strftime('%Y-%m-%d') }}</p>
            {% if meme['description'] %}
                <p class="description">{{ meme['description'] }}</p>
            {% endif %}
        </div>

        {% if meme['filename'] %}
            <img src="{{ url_for('static', filename='images/'+meme['filename']) }}" class="meme-image" name="{{ meme['title'] }}"
                 alt="{% if meme['description'] %}{{ meme['description'] }}{% else %}{{ meme['title'] }}{% endif %}">
        {% else %}
            <img src="{{ meme['img_src'] }}" class="meme-image" alt="{{ meme['title'] }}" name="{{ meme['title'] }}">
        {% endif %}
    </div>
</article>
<section class="comments">
    <div class="add-comment">
        <form method="post">
            <input id="comment" name="comment" class="input" type="text" placeholder=" " required/>
            <input type="submit" value="Zapisz" class="submit">
        </form>
    </div>

    {% for comment in comments %}
    <div class="comment">
        <p class="login">{{ comment['username'] }}</p>
        <p class="data">{{ comment['created'] }}</p>
        <p class="body">{{ comment['body'] }}</p>
    </div>
    {% endfor %}
</section>
{% endblock %}
